[build]
  command = "npm run build"
  publish = "dist"

[build.processing]
  skip_processing = false

[build.processing.css]
  bundle = true
  minify = true

[build.processing.js]
  bundle = true
  minify = true

[build.environment]
  NODE_VERSION = "22.22.0"
  NPM_FLAGS = "--prefer-offline --no-audit --legacy-peer-deps"
  NPM_CONFIG_PROGRESS = "false"
  NPM_CONFIG_AUDIT = "false"
  NPM_CONFIG_FUND = "false"

# Removed lighthouse plugin to speed up builds
# [[plugins]]
#   package = "@netlify/plugin-lighthouse"

# Cache configuration
[[build.cache]]
  directory = "node_modules"

[[build.cache]]
  directory = ".npm"
